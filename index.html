<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸ’Œ Quick Question</title>
  <style>
    :root{
      --bg1:#ffdde1;
      --bg2:#ee9ca7;
      --card:#ffffffcc;
      --text:#1f1f1f;
      --yes:#22c55e;
      --no:#ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,.15);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 20%, var(--bg1), transparent 60%),
                  radial-gradient(1200px 800px at 80% 70%, var(--bg2), transparent 55%),
                  linear-gradient(135deg, #fff, #ffe7ef);
      overflow:hidden;
    }

    /* floating hearts */
    .hearts{position:fixed; inset:0; pointer-events:none; opacity:.35;}
    .heart{
      position:absolute;
      width:14px; height:14px;
      background:#ff3b8a;
      transform: rotate(45deg);
      animation: floatUp linear infinite;
      border-radius:4px;
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      background:#ff3b8a;
      border-radius:50%;
    }
    .heart:before{left:-7px; top:0;}
    .heart:after{left:0; top:-7px;}
    @keyframes floatUp{
      from{transform: translateY(20vh) rotate(45deg); filter: blur(0px);}
      to{transform: translateY(-120vh) rotate(45deg); filter: blur(.2px);}
    }

    .wrap{width:min(720px, 92vw); padding:24px;}
    .card{
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.7);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding: 26px;
      position:relative;
    }
    .topline{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .badge{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.85);
      border:1px solid rgba(0,0,0,.06);
    }
    .progress{
      height:10px;
      background: rgba(0,0,0,.07);
      border-radius:999px;
      overflow:hidden;
      margin: 12px 0 18px;
    }
    .bar{height:100%; width:0%; background: linear-gradient(90deg, #ff3b8a, #ff7aa8); transition: width .35s ease;}

    h1{
      margin:10px 0 0;
      font-size: clamp(26px, 3.2vw, 40px);
      line-height: 1.05;
      letter-spacing: -0.02em;
    }
    p{
      margin: 12px 0 0;
      font-size: 16px;
      opacity:.9;
      line-height:1.45;
    }

    .stage{
      margin-top: 18px;
      min-height: 150px;
      display:grid;
      gap:14px;
    }

    .btnrow{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      margin-top: 10px;
      position:relative;
    }

    button{
      border:0;
      border-radius: 14px;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: 700;
      cursor:pointer;
      transform: translateZ(0);
      transition: transform .12s ease, filter .12s ease, opacity .12s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.12);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{transform: scale(.98)}
    .yes{background: linear-gradient(180deg, #34d399, #16a34a); color:white;}
    .no{background: linear-gradient(180deg, #fb7185, #e11d48); color:white;}
    .ghost{background: rgba(255,255,255,.9); border:1px solid rgba(0,0,0,.08); box-shadow:none;}

    .hint{
      font-size: 13px;
      opacity: .8;
      margin-top: 8px;
    }

    .toast{
      position:absolute;
      right:18px;
      top:18px;
      max-width: 280px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.07);
      box-shadow: 0 14px 40px rgba(0,0,0,.12);
      font-size: 13px;
      opacity:0;
      transform: translateY(-8px);
      transition: opacity .2s ease, transform .2s ease;
      pointer-events:none;
    }
    .toast.show{opacity:1; transform: translateY(0)}

    .big{
      font-size: clamp(28px, 3.6vw, 44px);
      line-height: 1.05;
    }

    .footer{
      margin-top:14px;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      opacity:.85;
      font-size:12px;
    }
    .linklike{background:transparent; box-shadow:none; padding:8px 10px; border-radius:12px; border:1px dashed rgba(0,0,0,.18)}

    /* Make the "No" button move for comedic effect */
    .no.escape{
      position: relative;
    }

    @media (max-width:480px){
      .card{padding:20px}
      button{flex:1}
      .toast{left:18px; right:18px}
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="card">
      <div class="toast" id="toast">You clicked wrong ðŸ˜Œ</div>

      <div class="topline">
        <div class="badge" id="stepBadge">Step 1</div>
        <button class="linklike" id="restartBtn" type="button">Restart</button>
      </div>

      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>

      <h1 id="title">Hey ðŸ’—</h1>
      <p id="subtitle">I have a few quick questionsâ€¦</p>

      <div class="stage" id="stage"></div>

      <div class="footer">
        <span id="footerLeft">Made with love.</span>
        <span id="footerRight">ðŸ’Œ</span>
      </div>
    </div>
  </div>

  <script>
    // ====== Customize these ======
    const boyfriendName = "Boyuan"; // appears in the final message
    const girlfriendName = ""; // optional, e.g. "Babe"; leave blank if you want

    const flow = [
      {
        id: "love",
        title: girlfriendName ? `Hey ${girlfriendName} ðŸ’—` : "Hey ðŸ’—",
        subtitle: "Do you love me?",
        yesText: "Yes ðŸ˜˜",
        noText: "No ðŸ™ƒ",
        allowNo: true,
      },
      {
        id: "q1",
        title: "Importantâ€¦",
        subtitle: "Am I your favorite person?",
        yesText: "Obviously",
        noText: "Ummâ€¦",
        allowNo: false,
      },
      {
        id: "q2",
        title: "Quick check âœ…",
        subtitle: "Do you promise to be patient with me when Iâ€™m annoying?",
        yesText: "I promise",
        noText: "Nope",
        allowNo: false,
      },
      {
        id: "q3",
        title: "This one is serious ðŸ˜Œ",
        subtitle: "Did you miss me?"
        yesText: "Yes",
        noText: "Not today",
        allowNo: false,
      },
      {
        id: "q4",
        title: "Random one ðŸ¤­",
        subtitle: "If we get boba, can I pick your drink?",
        yesText: "Fine",
        noText: "Never",
        allowNo: false,
      },
      {
        id: "valentine",
        title: "Final question ðŸ’˜",
        subtitle: "Will you be my Valentine?",
        yesText: "YES!",
        noText: "No",
        allowNo: false,
      },
      {
        id: "done",
        title: "I love you ðŸ’ž",
        subtitle: `Happy Valentineâ€™s Day${girlfriendName ? ", " + girlfriendName : ""}! â€” ${boyfriendName}`,
        done: true,
      },
    ];

    // ====== App logic ======
    const stage = document.getElementById("stage");
    const titleEl = document.getElementById("title");
    const subtitleEl = document.getElementById("subtitle");
    const stepBadge = document.getElementById("stepBadge");
    const bar = document.getElementById("bar");
    const toast = document.getElementById("toast");
    const restartBtn = document.getElementById("restartBtn");

    let idx = 0;
    let noClicks = 0;

    function showToast(msg){
      toast.textContent = msg;
      toast.style.fontSize = "28px";
      toast.style.fontWeight = "800";
      toast.style.padding = "24px 28px";
      toast.style.maxWidth = "90%";
      toast.style.textAlign = "center";
      toast.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => toast.classList.remove("show"), 1200);
    }

    function setProgress(){
      const total = flow.length - 1; // exclude final done screen from progress max feel
      const pct = Math.min(100, Math.round((idx / total) * 100));
      bar.style.width = pct + "%";
      stepBadge.textContent = flow[idx].done ? "Done" : `Step ${Math.max(1, idx + 1)}`;
    }

    function next(){
      idx = Math.min(flow.length - 1, idx + 1);
      noClicks = 0;
      render();
    }

    function restart(){
      idx = 0;
      noClicks = 0;
      render();
    }

    function createButtons(step){
      const row = document.createElement("div");
      row.className = "btnrow";

      const yes = document.createElement("button");
      yes.className = "yes";
      yes.type = "button";
      yes.textContent = step.yesText || "Yes";
      yes.addEventListener("click", next);

      row.appendChild(yes);

      if (!step.allowNo) {
        // still show a "No" button at first for fun, but it will refuse and then disappear
        const no = document.createElement("button");
        no.className = "no escape";
        no.type = "button";
        no.textContent = step.noText || "No";

        const escape = () => {
          noClicks += 1;
          const msgs = [
            "TRY AGAIN ðŸ˜¤",
            "WRONG ANSWER âŒ",
            "Donâ€™t be stupidddd ðŸ™„",
            "Donâ€™t be silly ðŸ˜Œ",
          ];
          showToast(msgs[Math.min(msgs.length - 1, noClicks - 1)]);

          // move button to a random spot inside the row
          const dx = (Math.random() * 180) - 90;
          const dy = (Math.random() * 60) - 30;
          no.style.transform = `translate(${dx}px, ${dy}px)`;

          // after a couple attempts, remove the "No" button completely ("yes only")
          if (noClicks >= 2) {
            no.disabled = true;
            no.style.opacity = 0;
            setTimeout(() => {
              if (no.parentNode) no.parentNode.removeChild(no);
            }, 200);
          }
        };

        no.addEventListener("mouseenter", escape);
        no.addEventListener("click", escape);
        no.addEventListener("touchstart", (e) => { e.preventDefault(); escape(); }, {passive:false});

        row.appendChild(no);
      } else {
        const no = document.createElement("button");
        no.className = "no";
        no.type = "button";
        no.textContent = step.noText || "No";
        no.addEventListener("click", () => {
          // first question allows a real "No" click, but still gently forces yes
          showToast("Câ€™monnn ðŸ˜­ (you clicked wrong)");
          // Immediately convert to yes-only
          step.allowNo = false;
          render();
        });
        row.appendChild(no);
      }

      const hint = document.createElement("div");
      hint.className = "hint";
      hint.textContent = step.allowNo ? "Be honest ðŸ˜‰" : "(Hint: thereâ€™s only one right answer)";

      return [row, hint];
    }

    function render(){
      const step = flow[idx];
      setProgress();
      titleEl.textContent = step.title;
      subtitleEl.textContent = step.subtitle;

      stage.innerHTML = "";

      if (step.done) {
        const big = document.createElement("div");
        big.className = "big";
        big.textContent = "I LOVE YOUUUU ðŸ’˜";

        const p = document.createElement("p");
        p.textContent = step.subtitle;

        const spark = document.createElement("div");
        spark.style.fontSize = "18px";
        spark.style.opacity = "0.9";
        spark.textContent = "You make my world softer, warmer, and brighter ðŸ’ž";

        const again = document.createElement("button");
        again.className = "ghost";
        again.type = "button";
        again.textContent = "Replay ðŸ’—";
        again.addEventListener("click", restart);

        stage.appendChild(big);
        stage.appendChild(p);
        stage.appendChild(spark);
        stage.appendChild(again);

        // Romantic heart burst
        for (let i = 0; i < 60; i++) {
          const h = document.createElement("div");
          h.className = "heart";
          h.style.left = 50 + (Math.random() * 40 - 20) + "vw";
          h.style.bottom = "10vh";
          const dur = 3 + Math.random() * 3;
          h.style.animationDuration = dur + "s";
          h.style.opacity = "0.9";
          h.style.transform = `scale(${0.8 + Math.random()}) rotate(45deg)`;
          document.getElementById("hearts").appendChild(h);
          setTimeout(() => h.remove(), dur * 1000);
        }
        return;
      }
      }

      const [row, hint] = createButtons(step);
      stage.appendChild(row);
      stage.appendChild(hint);
    }

    // ====== hearts background ======
    function spawnHearts(){
      const root = document.getElementById("hearts");
      const count = 26;
      root.innerHTML = "";
      for (let i=0; i<count; i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.style.left = Math.random()*100 + "vw";
        h.style.bottom = (-10 - Math.random()*60) + "vh";
        const dur = 6 + Math.random()*8;
        h.style.animationDuration = dur + "s";
        h.style.animationDelay = (-Math.random()*dur) + "s";
        const s = 0.7 + Math.random()*1.4;
        h.style.transform = `scale(${s}) rotate(45deg)`;
        root.appendChild(h);
      }
    }

    restartBtn.addEventListener("click", restart);

    spawnHearts();
    render();
    window.addEventListener("resize", spawnHearts);
  </script>
</body>
</html>
